services:
    employees-service:
        image: employees-service
        container_name: 'employees-service'
        build: ./
        command: ./app
        ports:
            - ${SERVER_PORT}:${SERVER_PORT}
        env_file:
            - .env
        depends_on:
            - postgres
    postgres:
        image: postgres
        container_name: 'postgres'
        restart: always
        shm_size: 512mb
        volumes:
            - ./migrations/:/docker-entrypoint-initdb.d/
        env_file:
            - .env
        ports:
            - 5432:5432

    adminer:
        image: adminer
        restart: always
        ports:
            - 8080:8080
